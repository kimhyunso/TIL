# 인프라

​	어플리케이션을 사용자가 24시간/365일 이용할 수 있는 환경을 제공하는 기술

# 하드웨어
​	서버, 스토리지

​	UPS : 안정적 전원 제공을 위한 장치

​	항온항습장치 : 안정적 구동 환경 조성을 위한 장치

​	물리적 보안 (출입통제)

​	재해대책(내진, 내화)

## 데이터 센터(IDC : Internet Data Center)

​	거대규모의 인프라를 안정적으로 관리하는 곳

## 코로케이션

​	데이터센터 공간 및 네트워크 임대 (서버는 임대하는 기업꺼 사용)

## 서버 호스팅

​	데이터센터로부터 장비를 임대

전통적 인프라 - 레가시 인프라

​	물리적 장비 구축

​	서버 호스팅

​	코로케이션

​	온 프레미스

클라우드 : 원격 컴퓨터의 자원을 활용하는 기술

​	레가시인프라 -> 트랜드 변경

# 가상화 기술

​수많은 여러대의 컴퓨터가 모여서 클라우드 컴퓨팅이됨

​필요한 만큼 컴퓨터 자원을 사용할 수 있음

네트워크 서버 / 리눅스 : 안정성, 오픈소스 - 장비 스토리지

1. 퍼블릭 클라우드 : AWS

   인터넷을 통해 불특정 다수에게 클라우드 서비스를 제공

   초기 투자가 필요하지 않음

2. 프라이빗 클라우드

   자기 자신이 직접 구축하는 경우 

   특정 대상만 접속가능(기업, 계열사 일부 등)	

레거시 인프라 : 물리적인 것의 한계, 온 프레미스

클라우드 : 퍼블릭 클라우드, 프라이빗 클라우드

# 클라우드 서비스 유형

1. IaaS

   인프라를 빌려옴(OS포함)

2. PaaS

   인프라 + 플랫폼(환경)

3. SaaS

   인프라 + 플랫폼 + 소프트웨어 = 모든 것을 제공받음

## 클라우드 서비스가 적합한 케이스

	1. 트래픽의 변동이 많은 시스템
	2. 재해 대책이 필요한 시스템
	3. 빠르게 준비될 필요가 있는 시스템

정형 : 규칙성있는 데이터 / 비정형 : 음성, 영상

## 하이퍼바이저 : 가상머신 소프트웨어

virtualbox 

vmware

# 네트워크

1. 공인망

   2대 이상의 장비가 데이터를 주고 받는 것 (누구나 사용가능)

2. 사설망

<h3>범위에 따른 네트워크 분류</h3>

1. LAN

   근거리 통신

2. WAN
   
   원거리 통신


## ISP : 업체가 관리를 담당 (KT, SKT, LG)

# 프로토콜

통신 규칙을 사용하여 통신하도록 약속한 것

IETF(국제 인터넷 표준화 기구)

# LAN 통신방식

1. 유니캐스트

   1 : 1 통신

2. 브로드 캐스트

   1 : 전부 통신

3. 멀티 캐스트

   특정 그룹에게 데이터를 전송

# 네트워크 통신방향

1. 양방향 통신

2. 반이중

   ex)무전기

3. 전이중

   ex)전화기

# 네트워크 명령어

1. ipconifg (linux: ifconfig)

   네트워크 인터페이스(NIC = 어탭터 = 네트워크카드 = 랜카드) 정보 확인

2. ipconfig/all -> 더 자세한 정보

3. ping

   상대방의 live 상태 여부 확인 -> 100% 정확하지 않음

4. ARP - A

   IP를 통해 MAC주소를 알아낸 것들 [ARP 캐시, ARP테이블]

5. netstat -an [관리자 권한 : netstat -anb]

   사용중인 포트 정보

   포트 : 1 - 65535, 어플리케이션 주소

   네트워크 : MAC, IP, Port

6. nslooup

   dns 서버 정보

7. tracert

   네트워크 경로확인 : 경유지들의 IP확인가능

8. hostname

   네트워크 상의 컴퓨터 이름을 알 수 있다.

9. route print [linux : ip route] = netstat -r

   라우팅 정보를 알려줌(라우팅 테이블)

   매트릭 : 우선순위 [높을수록 우선순위 높음]

# IP

논리적 인터페이스 주소

호스트주소를 다른 호스트주소와 겹치지 않게설정

# 서브넷 마스크
네트워크주소/호스트 주소를 구분하는 기준점

11111111.11111111.11111111[네트워크주소].0[호스트주소]

172.30.1.0 -> 네트워크주소[아파트 : 동] / 47 -> 호스트주소[아파트 : 호]

# 사설IP주소

10.0~10.255.255.255

172.16.0~172.31.255.255

192.168.0~192.168.255.255

# 사설IP대역대

사설망 내부에서 쓰는 ip대역

# 공인 IP대역대

인터넷 공인망에서쓰는 ip대역

# NAT

공인 ip와 사설ip를 전환하여 인터넷을 가능케 하는 기술

# 게이트웨이[공유기IP]

다른 네트워크와 통신할 때 쓰는 것(공유기, 라우터)

# MAC 주소

물리적 주소 (16진수 FF-FF-FF-FF-FF-FF)

근거리 통신을 할 때 통신장비는 무조건 MAC주소로 통신한다.

기계는 MAC주소를 알아야한다.

사람은 IP주소를 가지고 통신한다.

ex)블루투스

A4-DB-30[제조사]-6A-FF-AC[랜덤]

# ARP

IP를 이용해서 MAC주소를 알아오는 프로토콜

알아낸 MAC주소는 ARP캐시에다 적어둠

# DNS 서버

도메인명을 통해 IP주소를 알아오는 것

WWW[호스트/서브도메인].NAVER.COM[도메인이름] = 풀도메인[FQDN]/test/product/=URL

# DHCP 서버

컴퓨터의 IP, DNS를 자동으로 설정해줌

# 포트 통신 프로토콜

1. TCP

   신뢰성있는 통신이 필요때 사용

   상대방과 세션을 연결 [session]

2. UDP

   간단한 통신, 빠른 대용량 통신

   ex) dns, dhcp

# 라우팅 테이블

목적지로 갈 수 있는 경로가 적혀있어야 한다.

# 라우팅

IP주소를 활용해 목적지까지 최단경로를 찾는 것

# Prefix

192.168.0.1 255.255.255.0 

prefix : 11111111.11111111.11111111.00000000 /24

192.168.0.1 /24

/24 : 255.255.255.0

/16 : 255.255.0.0

/8 : 255.0.0.0

# IP 주소 체계

네트워크의 맨 처음 : Network ID ex)192.168.100.0

네트워크의 가장 끝 : Broadcast ex) 192.168.100.255

# well-known port

21	FTP

22 ★★	SSH (리눅스)

23    telnet     :   평문통신 -> 보안취약(비사용 추천)

25	SMTP

53	DNS

110  POP3

123  NTP

143  IMAP

​389  LDAP

80 ★★	HTTP 

443 	HTTPS

445	SMB 파일공유

3389 ★★	원격데스크톱 (윈도우)  

1433	MSSQL

1521	오라클 DB

3306	MySQL

5432	PostgreSQL

# OSI 7 Layer

|Layer|Name|
|-|-|
|7|응용 어플리케이션 계층(Application Layer)|
|6| 표현계층(Presentations Layer)|
|5|세션계층(Session Layer)|
|4|전송계층(Transport Layer)|
|3|네트워크 계층(Network Layer)|
|2|데이터링크 계층(Data Link Layer)|
|1|물리계층(Physical Layer)|

이기종 간 통신을 지원

표준을 통해 효율적인 장비 개발

# 물리계층 L1

물리적, 전기적, 기계적 규칙 등을 정의하여 서로간에 전기신호가 통하게하여 통신이 가능하게 하는 계층 (전압, 전류)[통신 기사]

대표적 장비 : 허브, 랜선, 케이블선

1. 유선

   랜 케이블, 광 케이블, 동축 케이블 등....

2. 무선

# 데이터링크 : L2

1계층의 전기신호를 의미있는 데이터 신호(MAC주소)로 바꾸고 근거리 인접한 장비끼리 통신하게 하는 계층(근거리 통신)

1. 회선 통신(아날로그)

   ex) 전화기, 모뎀

   A와 B가 통신 중에는 다른 것과 통신 못 함 1 : 1 통신

2. 패킷 통신(디지털)

   원본 데이터를 쪼개어 (헤더 + 데이터) = 패킷 전송함 default : 1500Byte

   다 : 다 통신 양방향 통신 구현쉬움

패킷에서 MAC주소를 추출하는 계층

대표적인 예) 블루투스

장비 : NIC(랜카드), 스위치(L2 장비) : MAC 주소만 알 수 있음

# 네트워크 계층 : L3

데이터를 목적지까지 가장 빠르게 갈 수 있는 경로를 찾는 계층(라우팅)

라우팅 : IP주소를 이용함, 라우팅 테이블을 이용한다. (IP주소가 다른 네트워크와 통신하기 위함)

장비 : 라우터, L3장비(L3 스위치) : MAC, IP 주소를 알 수 있음

# 전송 계층 : L4

소프트웨어적인 상위 3계층과 하드웨어적인 하위 3계층을 연결해줌

신뢰성 있는 전송 기능을 제공

1. 포트 번호를 통해 하나의 통신 장치에서 각 어플리케이션에게 데이터를 보내줌
2. 네트워크 전송과 관련하여 오류 체크, 흐름 제어 등의 기능을 통해 신뢰성있는 정상적인 데이터 전송이 가능 하도록함

대표적 프로토콜 : TCP, UDP - TCP만 오류체크 가능

# 세션 계층 : L5

송신자와 수신자간의 연결상태(세션)을 관리하는 계층

연결상태 : 설정, 유지, 종료

3way-handshake : syn, syn ack, ack

# 표현 계층 : L6

어플리케이션이 만들어내는 데이터를 표현하는 계층

데이터 암호, 복호화, 압축, 인코딩, 디코딩 등...

# 어플리케이션 계층 : L7
어플리케이션이 실제 작동하여 서비스하는 구간

OSI 7계층에서 패킷이 만들어지는 과정(인캡슐레이션, 디캡슐레이션)

*PDU : 각각 계층에서 부르는 데이터 단위(패킷 단위)

## 인캡슐레이션[헤더 추가]

7계층 - 데이터

4계층 PDU : segment(세그먼트) - 포트헤더추가

3계층 PDU : paket(패킷) = 동음이의어 - IP헤더추가

2계층 PDU : frame(프레임) - 이더넷

## 디캡슐레이션[헤더 제거]

2계층 : MAC주소 일치하는지 확인 - 2계층 헤더만 확인

3계층 : MAC, IP 주소 일치하는지 확인 - 2,3 계층 헤더 확인 -> 목적지 도착

4계층 : Port 번호 확인 -> 목적 어플리케이션으로 데이터 보냄

# 장비

L2 장비 : 스위치 - 2계층 헤더

L3 장비 : 라우터 L3 스위치 - 2,3 계층 헤더

L4 장비 : L4 스위치 - 2,3,4 계층 헤더

L7 장비 : PC, 서버 시스템, L7장비, L7 스위치 - 2,3,4헤더, 7계층 데이터

# TCP/IP 계층 모델

TCP/IP 통신에 맞춰서 오늘날 네트워크를 설명하는 모델

현실 설명력이 높음

## 로드밸런싱

L4, L7

## deep packet Inspect

모든 계층을 본다






